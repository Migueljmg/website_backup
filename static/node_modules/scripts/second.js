var theCanvas = document.getElementById("theCanvas");
var theContext = theCanvas.getContext("2d");
var ctx = theCanvas.getContext("2d");
var ctx2 = theCanvas.getContext("2d");
var ctx3 = theCanvas.getContext("2d");

ctx.fillStyle="black";
ctx.fillRect(0,0,theCanvas.width,theCanvas.height);


/*
ctx3.beginPath();
ctx3.moveTo(0,300);
ctx3.lineTo(50,250);
ctx3.strokeStyle = '#663300';
ctx3.lineWidth = 15;
ctx3.stroke();
*/


var img = new Image();
img.onload = function(){
    theCanvas.width = img.width;
    theCanvas.height = img.height;
    ctx3.drawImage(img, 0, 0, img.width, img.height);
}

img.src = 'static/img/goku.png';




var x0 = 52;
var y0 = 248;
var x = x0;
var y = y0;
var vx0 = 80;
var vy0 = 20;
var t = 0;
var g = 10;

function drawProjectile() {


    theContext.beginPath();
    theContext.arc(x, y, 5, 0, 2*Math.PI);
    theContext.fillStyle = "red";
    theContext.fill();


    //console.log("Current position is " + x + ", " + y);// imprime texto na consola que pode ser acedida por exemplo no google chrome em more tools -> developer tools -> console
}


var propagator;
function moveProjectile() {
    y = y0 - vy0*t + 0.5*g*t*t;
    x = x0 + vx0*t;
    drawProjectile();
    propagator = setTimeout(moveProjectile, 1000/30);
    t+=0.02;
    if(y>300){
	clearTimeout(propagator);
    }
}

function fireProjectile() {
    moveProjectile();
}
